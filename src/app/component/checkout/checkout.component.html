<div class="baner">
 
</div>


<div class="container my-5">

<h3 class="fw-bold mb-4">๐ Checkout</h3>

<div *ngIf="loading" class="text-center">
  <div class="spinner-border"></div>
</div>

<div *ngIf="!loading && cart?.items?.length === 0" class="alert alert-info">
ุงูุณูุฉ ูุงุฑุบุฉ
</div>

<div class="row" *ngIf="!loading && cart?.items?.length">

  <!-- ุชูุงุตูู ุงูุณูุฉ -->
  <div class="col-lg-6 mb-4">
    <div class="card shadow-sm p-3">
      <h5 class="mb-3">ุชูุงุตูู ุงูุณูุฉ</h5>
      <ul class="list-group list-group-flush">
        <li class="list-group-item d-flex justify-content-between align-items-center" *ngFor="let item of cart.items">
          <div class="d-flex align-items-center">
            <img [src]="item.image" width="50" class="me-2 rounded">
            <div>
              <div>{{item.name}}</div>
              <small class="text-muted">Size: {{item.size}}</small>
            </div>
          </div>
          <span>{{item.price * item.quantity}} EGP</span>
        </li>
      </ul>
      <div class="text-end fw-bold fs-5 mt-3">
        Total: {{cart.total}} EGP
      </div>
    </div>
  </div>

  <!-- ุจูุงูุงุช ุงูุดุญู ูุงูุฏูุน -->
  <div class="col-lg-6 mb-4">
    <div class="card shadow-sm p-3">
      <h5 class="mb-3">ุจูุงูุงุช ุงูุดุญู ูุงูุฏูุน</h5>

      <div *ngIf="message" class="alert alert-danger">{{message}}</div>

      <form (ngSubmit)="confirmOrder()">

        <div class="mb-2">
          <label class="form-label">ุงูุงุณู ุงููุงูู</label>
          <input type="text" class="form-control" [(ngModel)]="fullName" name="fullName" required>
        </div>

        <div class="mb-2">
          <label class="form-label">ุฑูู ุงููุงุชู</label>
          <input type="text" class="form-control" [(ngModel)]="phone" name="phone" required>
        </div>

        <div class="mb-2">
          <label class="form-label">ุงููุฏููุฉ</label>
          <input type="text" class="form-control" [(ngModel)]="city" name="city" required>
        </div>

        <div class="mb-2">
          <label class="form-label">ุงูุดุงุฑุน</label>
          <input type="text" class="form-control" [(ngModel)]="street" name="street" required>
        </div>

        <div class="mb-2">
          <label class="form-label">ุงูุฏููุฉ</label>
          <input type="text" class="form-control" [(ngModel)]="country" name="country" required>
        </div>

        <div class="mb-3">
          <label class="form-label">ุทุฑููุฉ ุงูุฏูุน</label>
          <select class="form-select" [(ngModel)]="paymentMethod" name="paymentMethod" required>
            <option value="cash">Cash on Delivery</option>
            <option value="card">Credit Card / PayPal</option>
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label">ููุงุญุธุงุช ุฅุถุงููุฉ</label>
          <textarea class="form-control" rows="3" [(ngModel)]="notes" name="notes"></textarea>
        </div>

        <button type="submit" class="btn btn-success w-100" [disabled]="submitting">
          {{ submitting ? 'ุฌุงุฑู ุงูุชุฃููุฏ...' : 'ุชุฃููุฏ ุงูุทูุจ' }}
        </button>

      </form>

    </div>
  </div>

</div>
</div>
