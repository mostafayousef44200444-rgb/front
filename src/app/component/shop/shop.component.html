<div class="hero-wrap d-flex align-items-center justify-content-center text-white text-center">
  <div class="container">
    <h1 class="display-3 fw-bold mb-3">Shop Our Brand</h1>
    <p class="lead mb-0">Crafting luxury apparel with a modern soul.</p>
  </div>
</div>

<div class="container mt-5 pt-4">
  <div class="filter-wrapper mb-5">
    <div class="filter d-flex justify-content-center gap-4">
      <span [class.active]="selectedCategory === ''" (click)="filterByCategory('')">All Products</span>
      <span [class.active]="selectedCategory === 'Men'" (click)="filterByCategory('Men')">Men</span>
      <span [class.active]="selectedCategory === 'Women'" (click)="filterByCategory('Women')">Women</span>
      <span [class.active]="selectedCategory === 'Kids'" (click)="filterByCategory('Kids')">Kids</span>
      <span [class.active]="selectedCategory === 'Shoes'" (click)="filterByCategory('Shoes')">Shoes</span>
    </div>
  </div>

  <div class="row g-4">
    <div class="col-6 col-md-4 col-lg-3 mb-4" *ngFor="let p of filteredProducts">
      <div class="product-card">
        <div class="img-box shadow-sm">
          <img [src]="p.images[0]" class="card-img-top" alt="product image">
          <div class="quick-view-overlay" (click)="openModal(p)">
            <span>Quick View</span>
          </div>
        </div>
        <div class="card-body mt-3 d-flex justify-content-between">
          <div>
            <h6 class="product-name mb-1">{{p.name}}</h6>
            <p class="product-price">{{p.price | number}} EGP</p>
          </div>
          <i class="bi bi-heart wishlist-btn"></i>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="productModal" tabindex="-1">
  <div class="modal-dialog modal-xl modal-dialog-centered">
    <div class="modal-content border-0">
      <div class="modal-body p-0" *ngIf="selectedProduct">
        <button type="button" class="btn-close position-absolute top-0 end-0 m-3 z-3" data-bs-dismiss="modal"></button>
        <div class="row g-0">
          <div class="col-lg-7 bg-light">
            <div class="p-4 h-100 d-flex flex-column align-items-center">
              <div class="main-view-container mb-3 shadow-sm rounded">
                <img [src]="selectedImage" class="img-fluid rounded main-modal-img">
              </div>
              <div class="d-flex gap-2">
                <img *ngFor="let img of selectedProduct.images" [src]="img" 
                     class="thumb-img" [class.active]="img === selectedImage"
                     (click)="selectedImage = img">
              </div>
            </div>
          </div>
          <div class="col-lg-5 p-5 d-flex flex-column justify-content-center">
            <h6 class="text-uppercase text-muted mb-2 letter-spacing-1 small">{{selectedProduct.category}}</h6>
            <h2 class="fw-bold mb-3">{{selectedProduct.name}}</h2>
            <h3 class="mb-4 text-dark fw-light">{{selectedProduct.price | number}} EGP</h3>
            <p class="text-muted mb-5 lead fs-6">{{selectedProduct.description}}</p>

            <div class="row g-3 mb-4">
              <div class="col-4">
                <label class="small fw-bold mb-2">Quantity</label>
                <input type="number" class="form-control py-2" [(ngModel)]="quantity" min="1">
              </div>
              <div class="col-8">
                <label class="small fw-bold mb-2">Size</label>
                <select class="form-select py-2" [(ngModel)]="selectedSize">
                  <option value="S">Small</option>
                  <option value="M">Medium</option>
                  <option value="L">Large</option>
                  <option value="XL">XL</option>
                </select>
              </div>
            </div>

            <button class="btn btn-dark w-100 py-3 rounded-pill fw-bold" (click)="addToCart()">
              ADD TO CART
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>