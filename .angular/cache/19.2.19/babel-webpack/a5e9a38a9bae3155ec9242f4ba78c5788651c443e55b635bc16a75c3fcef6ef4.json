{"ast":null,"code":"import { RouterLink } from '@angular/router';\nimport { CommonModule } from '@angular/common';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../services/auth.service\";\nimport * as i2 from \"../../../services/order.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nexport let NavbarComponent = /*#__PURE__*/(() => {\n  class NavbarComponent {\n    auth;\n    orderService;\n    router;\n    isScrolled = false;\n    isLoggedIn = false;\n    user = {};\n    cartCount;\n    constructor(auth, orderService, router) {\n      this.auth = auth;\n      this.orderService = orderService;\n      this.router = router;\n    }\n    ngOnInit() {\n      this.isLoggedIn = this.auth.isLoggedIn();\n      if (this.isLoggedIn) {\n        this.user = this.auth.currentUser;\n        this.cartCount = this.orderService.cartCount$; // ربط الـ badge بالـ Observable\n        this.orderService.loadCartCount(); // تحديث العدد عند بداية الصفحة\n      }\n    }\n    onWindowScroll() {\n      this.isScrolled = window.pageYOffset > 50;\n    }\n    logout() {\n      this.auth.logout();\n      this.router.navigate(['/login']);\n    }\n    static ɵfac = function NavbarComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || NavbarComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.OrderService), i0.ɵɵdirectiveInject(i3.Router));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: NavbarComponent,\n      selectors: [[\"app-navbar\"]],\n      hostBindings: function NavbarComponent_HostBindings(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵlistener(\"scroll\", function NavbarComponent_scroll_HostBindingHandler() {\n            return ctx.onWindowScroll();\n          }, false, i0.ɵɵresolveWindow);\n        }\n      },\n      decls: 50,\n      vars: 5,\n      consts: [[1, \"navbar\", \"navbar-expand-xl\", \"navbar-transparent\", \"px-2\", \"px-sm-4\", \"fixed-top\"], [1, \"container-fluid\", \"d-flex\", \"flex-nowrap\", \"align-items-center\", \"justify-content-between\"], [1, \"d-flex\", \"align-items-center\", \"flex-nowrap\"], [\"href\", \"#\", 1, \"navbar-brand\", \"me-3\", \"me-xl-5\"], [\"src\", \"assets/logo-01.png\", \"alt\", \"Logo\", 1, \"logo\", 2, \"height\", \"18px\"], [1, \"nav-links\", \"d-none\", \"d-xl-flex\", \"gap-4\"], [\"routerLink\", \"/\", 1, \"nav-link\"], [\"routerLink\", \"/shop\", 1, \"nav-link\"], [\"routerLink\", \"/features\", 1, \"nav-link\"], [\"routerLink\", \"/blog\", 1, \"nav-link\"], [\"routerLink\", \"/about\", 1, \"nav-link\"], [\"routerLink\", \"/contact\", 1, \"nav-link\"], [1, \"navicon\", \"d-flex\", \"align-items-center\", \"gap-2\", \"gap-sm-3\", \"ms-auto\"], [1, \"bi\", \"bi-search\"], [1, \"cart\", \"position-relative\"], [1, \"badge-custom\"], [\"routerLink\", \"/cart\", 1, \"bi\", \"bi-cart3\"], [\"routerLink\", \"/login\", 1, \"bi\", \"bi-person\"], [1, \"favorites\", \"position-relative\"], [1, \"bi\", \"bi-heart\"], [\"data-bs-toggle\", \"offcanvas\", \"data-bs-target\", \"#mobileMenu\", 1, \"bi\", \"bi-list\", \"d-xl-none\", \"fs-3\", \"ms-1\", 2, \"cursor\", \"pointer\"], [\"tabindex\", \"-1\", \"id\", \"mobileMenu\", \"aria-labelledby\", \"mobileMenuLabel\", 1, \"offcanvas\", \"offcanvas-start\"], [1, \"offcanvas-header\"], [\"id\", \"mobileMenuLabel\", 1, \"offcanvas-title\"], [\"src\", \"assets/logo-01.png\", \"alt\", \"Logo\", 2, \"height\", \"20px\"], [\"type\", \"button\", \"data-bs-dismiss\", \"offcanvas\", \"aria-label\", \"Close\", 1, \"btn-close\"], [1, \"offcanvas-body\"], [1, \"d-flex\", \"flex-column\", \"gap-3\"], [\"routerLink\", \"/\", \"data-bs-dismiss\", \"offcanvas\", 1, \"nav-link\", \"fs-5\"], [\"routerLink\", \"/shop\", \"data-bs-dismiss\", \"offcanvas\", 1, \"nav-link\", \"fs-5\"], [\"routerLink\", \"/features\", \"data-bs-dismiss\", \"offcanvas\", 1, \"nav-link\", \"fs-5\"], [\"routerLink\", \"/blog\", \"data-bs-dismiss\", \"offcanvas\", 1, \"nav-link\", \"fs-5\"], [\"routerLink\", \"/about\", \"data-bs-dismiss\", \"offcanvas\", 1, \"nav-link\", \"fs-5\"], [\"routerLink\", \"/contact\", \"data-bs-dismiss\", \"offcanvas\", 1, \"nav-link\", \"fs-5\"]],\n      template: function NavbarComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"nav\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"a\", 3);\n          i0.ɵɵelement(4, \"img\", 4);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"div\", 5)(6, \"a\", 6);\n          i0.ɵɵtext(7, \"Home\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(8, \"a\", 7);\n          i0.ɵɵtext(9, \"Shop\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(10, \"a\", 8);\n          i0.ɵɵtext(11, \"Features\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(12, \"a\", 9);\n          i0.ɵɵtext(13, \"Blog\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(14, \"a\", 10);\n          i0.ɵɵtext(15, \"About\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(16, \"a\", 11);\n          i0.ɵɵtext(17, \"Contact\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(18, \"div\", 12);\n          i0.ɵɵelement(19, \"i\", 13);\n          i0.ɵɵelementStart(20, \"div\", 14)(21, \"span\", 15);\n          i0.ɵɵtext(22);\n          i0.ɵɵpipe(23, \"async\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(24, \"i\", 16);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(25, \"i\", 17);\n          i0.ɵɵelementStart(26, \"div\", 18)(27, \"span\", 15);\n          i0.ɵɵtext(28, \"0\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(29, \"i\", 19);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(30, \"i\", 20);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(31, \"div\", 21)(32, \"div\", 22)(33, \"h5\", 23);\n          i0.ɵɵelement(34, \"img\", 24);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(35, \"button\", 25);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(36, \"div\", 26)(37, \"div\", 27)(38, \"a\", 28);\n          i0.ɵɵtext(39, \"Home\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(40, \"a\", 29);\n          i0.ɵɵtext(41, \"Shop\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(42, \"a\", 30);\n          i0.ɵɵtext(43, \"Features\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(44, \"a\", 31);\n          i0.ɵɵtext(45, \"Blog\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(46, \"a\", 32);\n          i0.ɵɵtext(47, \"About\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(48, \"a\", 33);\n          i0.ɵɵtext(49, \"Contact\");\n          i0.ɵɵelementEnd()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵclassProp(\"scrolled\", ctx.isScrolled);\n          i0.ɵɵadvance(22);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(23, 3, ctx.cartCount));\n        }\n      },\n      dependencies: [CommonModule, i4.AsyncPipe, RouterLink],\n      styles: [\".badge-custom[_ngcontent-%COMP%]{position:absolute;top:-7px;right:-7px;background-color:#007bff;color:#fff;font-size:9px;width:15px;height:15px;border-radius:50%;display:flex;align-items:center;justify-content:center}@media (max-width: 400px){.navicon[_ngcontent-%COMP%]{gap:10px!important}.navbar-brand[_ngcontent-%COMP%]{margin-right:10px!important}.logo[_ngcontent-%COMP%]{height:16px!important}}@media (min-width: 1200px){.navbar-brand[_ngcontent-%COMP%]{margin-right:80px!important}.navicon[_ngcontent-%COMP%]{padding-right:80px!important;gap:20px!important}}.nav-links[_ngcontent-%COMP%]{display:flex;gap:30px}.nav-link[_ngcontent-%COMP%]{color:#333;font-size:14px;font-weight:500;text-decoration:none}.nav-link[_ngcontent-%COMP%]:hover{color:#007bff}.navicon[_ngcontent-%COMP%]{display:flex;gap:20px;font-size:18px;font-weight:800;cursor:pointer;color:#666}.navicon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:#007bff}.offcanvas-body[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#333;font-weight:500;padding:10px 0;border-bottom:1px solid #f0f0f0;text-decoration:none}.offcanvas-body[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#007bff}.navbar[_ngcontent-%COMP%]{transition:all .4s ease}.navbar.navbar-scrolled[_ngcontent-%COMP%]{background-color:#fff!important;box-shadow:0 4px 10px #0000001a;padding-top:10px!important;padding-bottom:10px!important}.navbar-scrolled[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#333!important}.navbar-scrolled[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#007bff!important}.navbar[_ngcontent-%COMP%]{transition:background-color .3s ease,box-shadow .3s ease}.navbar.scrolled[_ngcontent-%COMP%]{background-color:#fff!important;box-shadow:0 2px 10px #0000001a}.navbar.scrolled[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .navbar.scrolled[_ngcontent-%COMP%]   .bi[_ngcontent-%COMP%]{color:#000!important}\"]\n    });\n  }\n  return NavbarComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}