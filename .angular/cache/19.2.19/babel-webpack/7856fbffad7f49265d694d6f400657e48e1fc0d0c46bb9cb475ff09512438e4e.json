{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../services/product.service\";\nimport * as i2 from \"../../../services/order.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction ShopComponent_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 14)(1, \"div\", 15)(2, \"div\", 16);\n    i0.ɵɵelement(3, \"img\", 17);\n    i0.ɵɵelementStart(4, \"div\", 18);\n    i0.ɵɵlistener(\"click\", function ShopComponent_div_20_Template_div_click_4_listener() {\n      const p_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.openModal(p_r2));\n    });\n    i0.ɵɵelementStart(5, \"span\");\n    i0.ɵɵtext(6, \"Quick View\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(7, \"div\", 19)(8, \"div\")(9, \"h6\", 20);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"p\", 21);\n    i0.ɵɵtext(12);\n    i0.ɵɵpipe(13, \"number\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(14, \"i\", 22);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const p_r2 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"src\", p_r2.images[0], i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(p_r2.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(13, 3, p_r2.price), \" EGP\");\n  }\n}\nfunction ShopComponent_div_24_img_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"img\", 48);\n    i0.ɵɵlistener(\"click\", function ShopComponent_div_24_img_8_Template_img_click_0_listener() {\n      const img_r6 = i0.ɵɵrestoreView(_r5).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.selectedImage = img_r6);\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const img_r6 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassProp(\"active\", img_r6 === ctx_r2.selectedImage);\n    i0.ɵɵproperty(\"src\", img_r6, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction ShopComponent_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 23);\n    i0.ɵɵelement(1, \"button\", 24);\n    i0.ɵɵelementStart(2, \"div\", 25)(3, \"div\", 26)(4, \"div\", 27)(5, \"div\", 28);\n    i0.ɵɵelement(6, \"img\", 29);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 30);\n    i0.ɵɵtemplate(8, ShopComponent_div_24_img_8_Template, 1, 3, \"img\", 31);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(9, \"div\", 32)(10, \"h6\", 33);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"h2\", 34);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"h3\", 35);\n    i0.ɵɵtext(15);\n    i0.ɵɵpipe(16, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"p\", 36);\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"div\", 37)(20, \"div\", 38)(21, \"label\", 39);\n    i0.ɵɵtext(22, \"Quantity\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"input\", 40);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ShopComponent_div_24_Template_input_ngModelChange_23_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r2 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r2.quantity, $event) || (ctx_r2.quantity = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(24, \"div\", 41)(25, \"label\", 39);\n    i0.ɵɵtext(26, \"Size\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"select\", 42);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ShopComponent_div_24_Template_select_ngModelChange_27_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r2 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r2.selectedSize, $event) || (ctx_r2.selectedSize = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementStart(28, \"option\", 43);\n    i0.ɵɵtext(29, \"Small\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"option\", 44);\n    i0.ɵɵtext(31, \"Medium\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"option\", 45);\n    i0.ɵɵtext(33, \"Large\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(34, \"option\", 46);\n    i0.ɵɵtext(35, \"XL\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(36, \"button\", 47);\n    i0.ɵɵlistener(\"click\", function ShopComponent_div_24_Template_button_click_36_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.addToCart());\n    });\n    i0.ɵɵtext(37, \" ADD TO CART \");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"src\", ctx_r2.selectedImage, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.selectedProduct.images);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r2.selectedProduct.category);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r2.selectedProduct.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(16, 8, ctx_r2.selectedProduct.price), \" EGP\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r2.selectedProduct.description);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r2.quantity);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r2.selectedSize);\n  }\n}\nexport let ShopComponent = /*#__PURE__*/(() => {\n  class ShopComponent {\n    productService;\n    orderService;\n    products = [];\n    filteredProducts = [];\n    isLoading = true;\n    selectedCategory = '';\n    // Modal Data\n    selectedProduct = null;\n    selectedImage = null;\n    quantity = 1;\n    selectedSize = 'M';\n    constructor(productService, orderService) {\n      this.productService = productService;\n      this.orderService = orderService;\n    }\n    ngOnInit() {\n      this.loadProducts();\n    }\n    loadProducts() {\n      this.isLoading = true;\n      this.productService.getAllProducts().subscribe({\n        next: res => {\n          this.products = res;\n          this.filteredProducts = res;\n          this.isLoading = false;\n        },\n        error: () => this.isLoading = false\n      });\n    }\n    filterByCategory(cat) {\n      this.selectedCategory = cat;\n      this.filteredProducts = cat ? this.products.filter(p => p.category === cat) : this.products;\n    }\n    openModal(product) {\n      this.selectedProduct = product;\n      this.selectedImage = product.images[0];\n      this.quantity = 1;\n      this.selectedSize = 'M';\n      const modalElement = document.getElementById('productModal');\n      if (modalElement) {\n        // @ts-ignore\n        const modal = new bootstrap.Modal(modalElement);\n        modal.show();\n      }\n    }\n    addToCart() {\n      if (!this.selectedProduct) return;\n      this.orderService.addItemToCart(this.selectedProduct._id, this.quantity, this.selectedSize).subscribe(() => alert('✅ Added to cart'));\n    }\n    static ɵfac = function ShopComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || ShopComponent)(i0.ɵɵdirectiveInject(i1.ProductService), i0.ɵɵdirectiveInject(i2.OrderService));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ShopComponent,\n      selectors: [[\"app-shop\"]],\n      decls: 25,\n      vars: 12,\n      consts: [[1, \"hero-wrap\", \"d-flex\", \"align-items-center\", \"justify-content-center\", \"text-white\", \"text-center\"], [1, \"container\"], [1, \"display-3\", \"fw-bold\", \"mb-3\"], [1, \"lead\", \"mb-0\"], [1, \"container\", \"mt-5\", \"pt-4\"], [1, \"filter-wrapper\", \"mb-5\"], [1, \"filter\", \"d-flex\", \"justify-content-center\", \"gap-4\"], [3, \"click\"], [1, \"row\", \"g-4\"], [\"class\", \"col-6 col-md-4 col-lg-3 mb-4\", 4, \"ngFor\", \"ngForOf\"], [\"id\", \"productModal\", \"tabindex\", \"-1\", 1, \"modal\", \"fade\"], [1, \"modal-dialog\", \"modal-xl\", \"modal-dialog-centered\"], [1, \"modal-content\", \"border-0\"], [\"class\", \"modal-body p-0\", 4, \"ngIf\"], [1, \"col-6\", \"col-md-4\", \"col-lg-3\", \"mb-4\"], [1, \"product-card\"], [1, \"img-box\", \"shadow-sm\"], [\"alt\", \"product image\", 1, \"card-img-top\", 3, \"src\"], [1, \"quick-view-overlay\", 3, \"click\"], [1, \"card-body\", \"mt-3\", \"d-flex\", \"justify-content-between\"], [1, \"product-name\", \"mb-1\"], [1, \"product-price\"], [1, \"bi\", \"bi-heart\", \"wishlist-btn\"], [1, \"modal-body\", \"p-0\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", 1, \"btn-close\", \"position-absolute\", \"top-0\", \"end-0\", \"m-3\", \"z-3\"], [1, \"row\", \"g-0\"], [1, \"col-lg-7\", \"bg-light\"], [1, \"p-4\", \"h-100\", \"d-flex\", \"flex-column\", \"align-items-center\"], [1, \"main-view-container\", \"mb-3\", \"shadow-sm\", \"rounded\"], [1, \"img-fluid\", \"rounded\", \"main-modal-img\", 3, \"src\"], [1, \"d-flex\", \"gap-2\"], [\"class\", \"thumb-img\", 3, \"src\", \"active\", \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-lg-5\", \"p-5\", \"d-flex\", \"flex-column\", \"justify-content-center\"], [1, \"text-uppercase\", \"text-muted\", \"mb-2\", \"letter-spacing-1\", \"small\"], [1, \"fw-bold\", \"mb-3\"], [1, \"mb-4\", \"text-dark\", \"fw-light\"], [1, \"text-muted\", \"mb-5\", \"lead\", \"fs-6\"], [1, \"row\", \"g-3\", \"mb-4\"], [1, \"col-4\"], [1, \"small\", \"fw-bold\", \"mb-2\"], [\"type\", \"number\", \"min\", \"1\", 1, \"form-control\", \"py-2\", 3, \"ngModelChange\", \"ngModel\"], [1, \"col-8\"], [1, \"form-select\", \"py-2\", 3, \"ngModelChange\", \"ngModel\"], [\"value\", \"S\"], [\"value\", \"M\"], [\"value\", \"L\"], [\"value\", \"XL\"], [1, \"btn\", \"btn-dark\", \"w-100\", \"py-3\", \"rounded-pill\", \"fw-bold\", 3, \"click\"], [1, \"thumb-img\", 3, \"click\", \"src\"]],\n      template: function ShopComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h1\", 2);\n          i0.ɵɵtext(3, \"Shop Our Brand\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"p\", 3);\n          i0.ɵɵtext(5, \"Crafting luxury apparel with a modern soul.\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(6, \"div\", 4)(7, \"div\", 5)(8, \"div\", 6)(9, \"span\", 7);\n          i0.ɵɵlistener(\"click\", function ShopComponent_Template_span_click_9_listener() {\n            return ctx.filterByCategory(\"\");\n          });\n          i0.ɵɵtext(10, \"All Products\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(11, \"span\", 7);\n          i0.ɵɵlistener(\"click\", function ShopComponent_Template_span_click_11_listener() {\n            return ctx.filterByCategory(\"Men\");\n          });\n          i0.ɵɵtext(12, \"Men\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(13, \"span\", 7);\n          i0.ɵɵlistener(\"click\", function ShopComponent_Template_span_click_13_listener() {\n            return ctx.filterByCategory(\"Women\");\n          });\n          i0.ɵɵtext(14, \"Women\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(15, \"span\", 7);\n          i0.ɵɵlistener(\"click\", function ShopComponent_Template_span_click_15_listener() {\n            return ctx.filterByCategory(\"Kids\");\n          });\n          i0.ɵɵtext(16, \"Kids\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(17, \"span\", 7);\n          i0.ɵɵlistener(\"click\", function ShopComponent_Template_span_click_17_listener() {\n            return ctx.filterByCategory(\"Shoes\");\n          });\n          i0.ɵɵtext(18, \"Shoes\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(19, \"div\", 8);\n          i0.ɵɵtemplate(20, ShopComponent_div_20_Template, 15, 5, \"div\", 9);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(21, \"div\", 10)(22, \"div\", 11)(23, \"div\", 12);\n          i0.ɵɵtemplate(24, ShopComponent_div_24_Template, 38, 10, \"div\", 13);\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(9);\n          i0.ɵɵclassProp(\"active\", ctx.selectedCategory === \"\");\n          i0.ɵɵadvance(2);\n          i0.ɵɵclassProp(\"active\", ctx.selectedCategory === \"Men\");\n          i0.ɵɵadvance(2);\n          i0.ɵɵclassProp(\"active\", ctx.selectedCategory === \"Women\");\n          i0.ɵɵadvance(2);\n          i0.ɵɵclassProp(\"active\", ctx.selectedCategory === \"Kids\");\n          i0.ɵɵadvance(2);\n          i0.ɵɵclassProp(\"active\", ctx.selectedCategory === \"Shoes\");\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngForOf\", ctx.filteredProducts);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngIf\", ctx.selectedProduct);\n        }\n      },\n      dependencies: [CommonModule, i3.NgForOf, i3.NgIf, i3.DecimalPipe, FormsModule, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.MinValidator, i4.NgModel],\n      styles: [\"[_nghost-%COMP%]{--primary-black: #1a1a1a;--accent-blue: #717fe0;--light-bg: #f8f9fa}.hero-wrap[_ngcontent-%COMP%]{height:45vh;background:linear-gradient(#00000080,#00000080),url(https://images.unsplash.com/photo-1441984904996-e0b6ba687e04?auto=format&fit=crop&w=1500&q=80);background-size:cover;background-position:center}.filter[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500;color:#888;cursor:pointer;transition:.3s;border-bottom:2px solid transparent;padding-bottom:5px}.filter[_ngcontent-%COMP%]   span.active[_ngcontent-%COMP%], .filter[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{color:var(--primary-black);border-bottom-color:var(--primary-black)}.img-box[_ngcontent-%COMP%]{position:relative;overflow:hidden;border-radius:12px}.card-img-top[_ngcontent-%COMP%]{aspect-ratio:3/4;object-fit:cover;transition:transform .6s ease}.product-card[_ngcontent-%COMP%]:hover   .card-img-top[_ngcontent-%COMP%]{transform:scale(1.08)}.quick-view-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#fff3;display:flex;justify-content:center;align-items:flex-end;padding-bottom:20px;opacity:0;transition:.4s;cursor:pointer}.quick-view-overlay[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#fff;padding:10px 25px;border-radius:25px;font-weight:500;box-shadow:0 4px 15px #0000001a}.product-card[_ngcontent-%COMP%]:hover   .quick-view-overlay[_ngcontent-%COMP%]{opacity:1}.product-name[_ngcontent-%COMP%]{color:#555;transition:.3s;cursor:pointer}.product-name[_ngcontent-%COMP%]:hover{color:var(--accent-blue)}.product-price[_ngcontent-%COMP%]{font-weight:700;color:#1a1a1a}.modal-content[_ngcontent-%COMP%]{border-radius:20px;overflow:hidden}.main-view-container[_ngcontent-%COMP%]{height:450px;width:100%;display:flex;align-items:center;justify-content:center;background:#fff}.main-modal-img[_ngcontent-%COMP%]{max-height:100%;object-fit:contain}.thumb-img[_ngcontent-%COMP%]{width:70px;height:70px;object-fit:cover;border-radius:8px;cursor:pointer;opacity:.6;border:2px solid transparent}.thumb-img.active[_ngcontent-%COMP%]{opacity:1;border-color:var(--primary-black)}.letter-spacing-1[_ngcontent-%COMP%]{letter-spacing:1px}\"]\n    });\n  }\n  return ShopComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}